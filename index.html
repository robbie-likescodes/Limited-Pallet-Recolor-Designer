<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Limited Palette Recolor Designer</title>

  <!-- Stylesheet -->
  <link rel="stylesheet" href="./css/styles.css" />
</head>
<body>
  <!-- Header -->
  <header>
    <div class="header-left">
      <h1>Palette Mapper</h1>
      <p>Reduce photos to limited colors for printing</p>
    </div>
    <div class="header-right">
      <button id="openProjects" class="ghost" type="button">Projects</button>
    </div>
  </header>

  <!-- Main content area (your sections/cards will render here) -->
  <main id="app" class="container"></main>

  <!-- Bootstatus overlay: shown until app.js signals ready -->
  <div id="bootstatus"
       style="position:fixed;left:8px;bottom:8px;background:#1f2937;color:#fff;padding:6px 10px;border-radius:6px;font:12px/1.2 ui-monospace,Menlo,Consolas,monospace;z-index:9999">
    Loading app…
  </div>

  <!-- App entry point -->
  <script type="module" src="./js/app.js"></script>

  <!-- Error reporting -->
  <script>
    // Catch runtime errors
    window.addEventListener('error', (e) => {
      const el = document.getElementById('bootstatus');
      if (!el) return;
      el.style.background = '#7f1d1d';
      el.textContent = 'Runtime error: ' + (e.message || e.type);
      el.style.display = 'block';
    });

    // Catch module load/import errors
    window.addEventListener('unhandledrejection', (e) => {
      const el = document.getElementById('bootstatus');
      if (!el) return;
      el.style.background = '#7f1d1d';
      el.textContent = 'Module load failed: ' + (e.reason && (e.reason.message || e.reason));
      el.style.display = 'block';
    });

    // Hide bootstatus once your app signals it’s ready
    document.addEventListener('app:ready', () => {
      const el = document.getElementById('bootstatus');
      if (el) el.style.display = 'none';
    });
  </script>
</body>
</html>
